<template>
  <div class="container">

    <button class="right-btn" @click="$router.push({name:'child',params:{ description:'ä¸€ç­å¾ˆæ£’!' }})">ç¬¬ä¸€å­£</button>
    <button class="right-btn" @click="$router.push({name:'otherChild',params:{ description:'äºŒç­ä¹ŸæŒºä¸é”™çš„!' }})">ç¬¬äºŒå­£</button>
    <button class="right-btn" @click="$router.push({name:'home'})">å‰å¾€é¦–é¡µ</button>

    <router-view></router-view>
    <router-view name="childs"></router-view>
  </div>

</template>

<script>
export default {
  name: "index",
  props: {
    description: {
      require: true,
      type: String
    }
  },
  /**
   * ç»„ä»¶å®ˆå«
   */
  beforeRouteEnter(to, from, next) {
    console.log(to, from, 'ğŸ¦„  ç»„ä»¶å®ˆå«:beforeRouteEnter')
    console.log(this, 'ğŸ¦„  thiså®ä¾‹') // undefined
    next(vm => {
      console.log(vm, 'ğŸ¦„  å¯ä»¥åœ¨nextå›è°ƒä¸­ä½¿ç”¨thiså®ä¾‹')
    })
  },
  beforeRouteLeave(to, from, next) {
    console.log(to, from, 'ğŸ¦„  ç»„ä»¶å®ˆå«:beforeRouteLeave')
    console.log(this, 'ğŸ¦„  thiså®ä¾‹') // å¯ä»¥è®¿é—®åˆ°thiså®ä¾‹

    // if (isSave) {
    //   next(false) // åˆ¤æ–­å½“å‰æ˜¯å¦ä¿å­˜,å¯ä»¥é˜»æ­¢é¡µé¢è·³è½¬
    // } else {
    //   next()
    // }

    next()
  },
  mounted() {
    // console.log(this.description, 'ğŸ¦„ å®¢è§‚è¯„ä»·')
  }
}
</script>

<style scoped lang="scss">
.container {
  .right-btn {
    @include right-btn();
    margin-bottom: 30px;
  }
}
</style>
